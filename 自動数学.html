<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>数学問題生成機＆解き方解説</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        h1 {
            text-align: center;
        }
        .container {
            text-align: center;
            margin-bottom: 20px;
        }
        .button {
            padding: 5px 10px;
            cursor: pointer;
            background-color: #007bff;
            color: #fff;
            border: none;
            border-radius: 3px;
        }
        .topic {
            border: 1px solid #ccc;
            border-radius: 5px;
            padding: 10px;
            margin-bottom: 20px;
        }
        .correct-answer {
            color: green;
        }
        .wrong-answer {
            color: red;
        }
    </style>
</head>
<body>
    <h1>数学問題生成機＆解き方解説</h1>

    <div class="container">
        <h2>数学問題生成機</h2>
        <label for="unit">単元:</label>
        <select id="unit">
            <option value="addition">加算</option>
            <option value="subtraction">減算</option>
            <option value="multiplication">乗算</option>
            <option value="division">除算</option>
            <option value="equations">2元の連立方程式</option>
        </select>

        <br>

        <label for="min">最小値:</label>
        <input type="number" id="min" value="1" min="1">

        <label for="max">最大値:</label>
        <input type="number" id="max" value="100" min="1">

        <br>

        <button class="button" onclick="generateRandomProblem()">問題を生成する</button>

        <div id="problemResult" style="margin-top: 20px;"></div>
        <div id="userAnswer" style="margin-top: 10px;"></div>
        <div id="answerResult" style="margin-top: 10px;"></div>
    </div>

    <script>
        function generateRandomProblem() {
            var unit = document.getElementById("unit").value;
            var min = parseInt(document.getElementById("min").value);
            var max = parseInt(document.getElementById("max").value);

            if (isNaN(min) || isNaN(max) || min >= max) {
                alert("正しい範囲を入力してください。");
                return;
            }

            var randomNumber1 = Math.floor(Math.random() * (max - min + 1)) + min;
            var randomNumber2 = Math.floor(Math.random() * (max - min + 1)) + min;

            var problem = "";
            var answer = 0;

            switch (unit) {
                case "addition":
                    problem = randomNumber1 + " + " + randomNumber2 + " = ?";
                    answer = randomNumber1 + randomNumber2;
                    break;
                case "subtraction":
                    problem = randomNumber1 + " - " + randomNumber2 + " = ?";
                    answer = randomNumber1 - randomNumber2;
                    break;
                case "multiplication":
                    problem = randomNumber1 + " × " + randomNumber2 + " = ?";
                    answer = randomNumber1 * randomNumber2;
                    break;
                case "division":
                    // Ensure the second number is not 0 to avoid division by zero
                    randomNumber2 = randomNumber2 === 0 ? 1 : randomNumber2;
                    problem = randomNumber1 * randomNumber2 + " ÷ " + randomNumber2 + " = ?";
                    answer = randomNumber1;
                    break;
                case "equations":
                    // Generate a random system of linear equations
                    var coefficient1 = Math.floor(Math.random() * (max - min + 1)) + min;
                    var coefficient2 = Math.floor(Math.random() * (max - min + 1)) + min;
                    var constant1 = Math.floor(Math.random() * (max - min + 1)) + min;
                    var constant2 = Math.floor(Math.random() * (max - min + 1)) + min;

                    problem = `${coefficient1}x + ${coefficient2}y = ${constant1}<br>${coefficient2}x + ${coefficient1}y = ${constant2}`;
                    // Use Cramer's Rule to solve the system of linear
